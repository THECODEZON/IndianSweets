(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{1227:function(e,r,s){Promise.resolve().then(s.bind(s,6707))},6707:function(e,r,s){"use strict";s.r(r);var t=s(7437),a=s(2265),n=s(6463),o=s(7138),l=s(5137),i=s(500),c=s(8400),d=s(6935);function m(){let e=(0,n.useRouter)(),r=(0,n.useSearchParams)(),s=r.get("orderId")||"",m=parseFloat(r.get("amount")||"0"),u=r.get("paymentMethod")||"COD",[x,h]=(0,a.useState)(!1),[p,y]=(0,a.useState)("");(0,a.useEffect)(()=>{s||e.push("/checkout")},[s,e]);let f=async r=>{r.preventDefault(),h(!0);try{await new Promise(e=>setTimeout(e,2e3)),(await fetch("http://localhost:5001/api/orders/".concat(s,"/pay"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:"UPI_"+Date.now(),status:"completed",update_time:new Date().toISOString(),email_address:"user@example.com"})})).ok&&(e.push("/order-success?orderId=".concat(s)),localStorage.removeItem("cart"))}catch(e){console.error("Payment error:",e),h(!1)}},b=async r=>{r.preventDefault(),h(!0);try{await new Promise(e=>setTimeout(e,3e3)),(await fetch("http://localhost:5001/api/orders/".concat(s,"/pay"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:"CARD_"+Date.now(),status:"completed",update_time:new Date().toISOString(),email_address:"user@example.com"})})).ok&&(e.push("/order-success?orderId=".concat(s)),localStorage.removeItem("cart"))}catch(e){console.error("Payment error:",e),h(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-bg-cream py-12",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)(o.default,{href:"/checkout",className:"inline-flex items-center text-primary-green hover:underline mb-4",children:[(0,t.jsx)(l.Z,{size:20,className:"mr-2"}),"Back to Checkout"]}),(0,t.jsx)("h1",{className:"text-3xl font-serif font-bold text-primary-maroon",children:"Payment"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-primary-maroon mb-4",children:"Order Summary"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Order ID:"}),(0,t.jsx)("span",{className:"font-mono text-sm",children:s.slice(-8)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Payment Method:"}),(0,t.jsx)("span",{className:"font-medium",children:u})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Amount:"}),(0,t.jsxs)("span",{className:"font-bold text-primary-maroon",children:["₹",m]})]})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:["COD"===u&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-primary-maroon mb-4 flex items-center",children:[(0,t.jsx)(i.Z,{size:20,className:"mr-2"}),"Cash on Delivery"]}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Pay when you receive your order. No additional charges."}),(0,t.jsx)("button",{onClick:()=>{e.push("/order-success?orderId=".concat(s,"&method=COD")),localStorage.removeItem("cart")},className:"w-full bg-primary-maroon text-white px-6 py-3 rounded-full font-bold hover:bg-primary-green transition-colors",children:"Confirm COD Order"})]}),"UPI"===u&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-primary-maroon mb-4 flex items-center",children:[(0,t.jsx)(c.Z,{size:20,className:"mr-2"}),"UPI Payment"]}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"UPI ID"}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>y(e.target.value),placeholder:"yourupi@paytm",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-maroon focus:border-transparent"})]}),(0,t.jsx)("button",{type:"submit",disabled:x,className:"w-full bg-primary-maroon text-white px-6 py-3 rounded-full font-bold hover:bg-primary-green transition-colors disabled:opacity-50",children:x?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing Payment..."]}):"Pay ₹".concat(m)})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:"\uD83D\uDD12 Secure payment powered by UPI"})]}),"Card"===u&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-primary-maroon mb-4 flex items-center",children:[(0,t.jsx)(d.Z,{size:20,className:"mr-2"}),"Card Payment"]}),(0,t.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Card Number"}),(0,t.jsx)("input",{type:"text",placeholder:"1234 5678 9012 3456",maxLength:19,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-maroon focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Expiry"}),(0,t.jsx)("input",{type:"text",placeholder:"MM/YY",maxLength:5,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-maroon focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"CVV"}),(0,t.jsx)("input",{type:"text",placeholder:"123",maxLength:3,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-maroon focus:border-transparent"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:x,className:"w-full bg-primary-maroon text-white px-6 py-3 rounded-full font-bold hover:bg-primary-green transition-colors disabled:opacity-50",children:x?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing Payment..."]}):"Pay ₹".concat(m)})]}),(0,t.jsx)("div",{className:"mt-6 p-4 bg-accent-yellow/20 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-primary-maroon flex items-center",children:[(0,t.jsx)(i.Z,{size:16,className:"mr-2"}),"Your payment information is secure and encrypted"]})})]})]})]})]})})}r.default=()=>(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-bg-cream py-12",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-maroon mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})})}),children:(0,t.jsx)(m,{})})},1066:function(e,r,s){"use strict";s.d(r,{Z:function(){return o}});var t=s(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=(e,r)=>{let s=(0,t.forwardRef)((s,o)=>{let{color:l="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:m,...u}=s;return(0,t.createElement)("svg",{ref:o,...a,width:i,height:i,stroke:l,strokeWidth:d?24*Number(c)/Number(i):c,className:"lucide lucide-".concat(n(e)),...u},[...r.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...(Array.isArray(m)?m:[m])||[]])});return s.displayName="".concat(e),s}},5137:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(1066).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6935:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(1066).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},500:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(1066).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},8400:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(1066).Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},6463:function(e,r,s){"use strict";var t=s(1169);s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=1227)}),_N_E=e.O()}]);