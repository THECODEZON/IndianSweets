(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1522:function(e,t,s){Promise.resolve().then(s.t.bind(s,8877,23)),Promise.resolve().then(s.bind(s,1624)),Promise.resolve().then(s.bind(s,3429)),Promise.resolve().then(s.bind(s,2234)),Promise.resolve().then(s.t.bind(s,4338,23)),Promise.resolve().then(s.t.bind(s,4135,23))},1624:function(e,t,s){"use strict";s.d(t,{default:function(){return f}});var a=s(7437),r=s(7138),l=s(2265),n=s(8960),o=s(7524),c=s(2022),i=s(1066);let d=(0,i.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),u=(0,i.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var m=s(2234),x=s(3429),f=()=>{let[e,t]=(0,l.useState)(!1),{cartItems:s}=(0,m.j)(),{user:i,logout:f}=(0,x.a)();return(0,a.jsxs)("nav",{className:"sticky top-0 z-50 bg-primary-maroon text-bg-cream shadow-md",children:[(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(r.default,{href:"/",className:"font-serif text-2xl font-bold text-accent-yellow",children:"Mithai Wala"})}),(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsxs)("div",{className:"ml-10 flex items-baseline space-x-4",children:[(0,a.jsx)(r.default,{href:"/sweets",className:"hover:text-accent-yellow px-3 py-2 rounded-md text-sm font-medium",children:"All Sweets"}),(0,a.jsx)(r.default,{href:"/festivals",className:"hover:text-accent-yellow px-3 py-2 rounded-md text-sm font-medium",children:"Festivals"}),(0,a.jsx)(r.default,{href:"/seasons",className:"hover:text-accent-yellow px-3 py-2 rounded-md text-sm font-medium",children:"Seasons"}),(0,a.jsx)(r.default,{href:"/gift-boxes",className:"hover:text-accent-yellow px-3 py-2 rounded-md text-sm font-medium",children:"Gift Boxes"}),(0,a.jsx)(r.default,{href:"/about-us",className:"hover:text-accent-yellow px-3 py-2 rounded-md text-sm font-medium",children:"About Us"}),(0,a.jsx)(r.default,{href:"/contact-us",className:"hover:text-accent-yellow px-3 py-2 rounded-md text-sm font-medium",children:"Contact"})]})}),(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,a.jsxs)(r.default,{href:"/cart",className:"relative hover:text-accent-yellow",children:[(0,a.jsx)(n.Z,{size:24}),s.length>0&&(0,a.jsx)("span",{className:"absolute -top-2 -right-2 bg-accent-pink text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:s.length})]}),(0,a.jsx)(r.default,{href:"/orders",className:"hover:text-accent-yellow",children:(0,a.jsx)(o.Z,{size:24})}),i?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm",children:["Hi, ",i.name]}),(0,a.jsx)("button",{onClick:f,className:"text-sm hover:text-accent-yellow",children:"Logout"})]}):(0,a.jsx)(r.default,{href:"/login",className:"hover:text-accent-yellow",children:(0,a.jsx)(c.Z,{size:24})})]}),(0,a.jsx)("div",{className:"-mr-2 flex md:hidden",children:(0,a.jsx)("button",{onClick:()=>t(!e),className:"inline-flex items-center justify-center p-2 rounded-md text-bg-cream hover:text-white hover:bg-primary-green focus:outline-none",children:e?(0,a.jsx)(d,{size:24}):(0,a.jsx)(u,{size:24})})})]})}),e&&(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-primary-maroon",children:[(0,a.jsx)(r.default,{href:"/sweets",className:"block hover:text-accent-yellow px-3 py-2 rounded-md text-base font-medium",children:"All Sweets"}),(0,a.jsx)(r.default,{href:"/festivals",className:"block hover:text-accent-yellow px-3 py-2 rounded-md text-base font-medium",children:"Festivals"}),(0,a.jsx)(r.default,{href:"/seasons",className:"block hover:text-accent-yellow px-3 py-2 rounded-md text-base font-medium",children:"Seasons"}),(0,a.jsx)(r.default,{href:"/gift-boxes",className:"block hover:text-accent-yellow px-3 py-2 rounded-md text-base font-medium",children:"Gift Boxes"}),(0,a.jsx)(r.default,{href:"/about-us",className:"block hover:text-accent-yellow px-3 py-2 rounded-md text-base font-medium",children:"About Us"}),(0,a.jsx)(r.default,{href:"/contact-us",className:"block hover:text-accent-yellow px-3 py-2 rounded-md text-base font-medium",children:"Contact Us"}),(0,a.jsxs)(r.default,{href:"/cart",className:"block hover:text-accent-yellow px-3 py-2 rounded-md text-base font-medium",children:["Cart (",s.length,")"]}),i?(0,a.jsx)("button",{onClick:f,className:"block w-full text-left hover:text-accent-yellow px-3 py-2 rounded-md text-base font-medium",children:"Logout"}):(0,a.jsx)(r.default,{href:"/login",className:"block hover:text-accent-yellow px-3 py-2 rounded-md text-base font-medium",children:"Login"})]})})]})}},3429:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return i},a:function(){return c}});var a=s(7437),r=s(2265),l=s(6463),n=s(9868);let o=(0,r.createContext)({user:null,login:async()=>{},register:async()=>{},logout:()=>{},error:null}),c=()=>(0,r.useContext)(o),i=e=>{let{children:t}=e,[s,c]=(0,r.useState)(null),[i,d]=(0,r.useState)(null),u=(0,l.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("userInfo");e&&c(JSON.parse(e))},[]);let m=async e=>{try{d(null);let t=(await n.Z.post("/users/login",e)).data;c(t),localStorage.setItem("userInfo",JSON.stringify(t)),u.push("/")}catch(e){var t,s;d((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Login failed")}},x=async e=>{try{d(null);let t=(await n.Z.post("/users",e)).data;c(t),localStorage.setItem("userInfo",JSON.stringify(t)),u.push("/")}catch(e){var t,s;d((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Registration failed")}};return(0,a.jsx)(o.Provider,{value:{user:s,login:m,register:x,logout:()=>{c(null),localStorage.removeItem("userInfo"),u.push("/login")},error:i},children:t})}},2234:function(e,t,s){"use strict";s.d(t,{CartProvider:function(){return o},j:function(){return n}});var a=s(7437),r=s(2265);let l=(0,r.createContext)({cartItems:[],addToCart:()=>{},removeFromCart:()=>{},clearCart:()=>{}}),n=()=>(0,r.useContext)(l),o=e=>{let{children:t}=e,[s,n]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let e=localStorage.getItem("cartItems");e&&n(JSON.parse(e))},[]),(0,r.useEffect)(()=>{localStorage.setItem("cartItems",JSON.stringify(s))},[s]),(0,a.jsx)(l.Provider,{value:{cartItems:s,addToCart:e=>{let t=s.find(t=>t._id===e._id);t?n(s.map(s=>s._id===t._id?{...s,qty:s.qty+e.qty}:s)):n([...s,e])},removeFromCart:e=>{n(s.filter(t=>t._id!==e))},clearCart:()=>{n([])}},children:t})}},1066:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(e,t)=>{let s=(0,a.forwardRef)((s,n)=>{let{color:o="currentColor",size:c=24,strokeWidth:i=2,absoluteStrokeWidth:d,children:u,...m}=s;return(0,a.createElement)("svg",{ref:n,...r,width:c,height:c,stroke:o,strokeWidth:d?24*Number(i)/Number(c):i,className:"lucide lucide-".concat(l(e)),...m},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...(Array.isArray(u)?u:[u])||[]])});return s.displayName="".concat(e),s}},7524:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},8960:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},2022:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6463:function(e,t,s){"use strict";var a=s(1169);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},9868:function(e,t,s){"use strict";let a=s(8472).Z.create({baseURL:"http://localhost:5001/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let t=localStorage.getItem("userInfo");if(t){let s=JSON.parse(t).token;e.headers.Authorization="Bearer ".concat(s)}return e},e=>Promise.reject(e)),t.Z=a},8877:function(){},4338:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3",variable:"__variable_f367f3"}},4135:function(e){e.exports={style:{fontFamily:"'__Playfair_Display_0a80b4', '__Playfair_Display_Fallback_0a80b4'",fontStyle:"normal"},className:"__className_0a80b4",variable:"__variable_0a80b4"}}},function(e){e.O(0,[771,138,472,971,23,744],function(){return e(e.s=1522)}),_N_E=e.O()}]);