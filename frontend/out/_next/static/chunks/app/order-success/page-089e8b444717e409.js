(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{956:function(e,s,r){Promise.resolve().then(r.bind(r,7738))},7738:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return u}});var a=r(7437),t=r(2265),n=r(6463),l=r(7138),i=r(7524),c=r(5862),d=r(5880);let m=(0,r(1066).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var o=r(4086),x=r(5137);function h(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)(),r=s.get("orderId")||"",h=s.get("method")||"Online",[u,p]=(0,t.useState)(null),[g,f]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{let e=async()=>{try{let e=await fetch("http://localhost:5001/api/orders/".concat(r));if(e.ok){let s=await e.json();p(s.data),localStorage.removeItem("cart")}}catch(e){console.error("Error fetching order:",e)}finally{f(!1)}};r&&e()},[r]),g)?(0,a.jsx)("div",{className:"min-h-screen bg-bg-cream py-12",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-maroon mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading your order details..."})]})})}):u?(0,a.jsx)("div",{className:"min-h-screen bg-bg-cream py-12",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:(0,a.jsx)(c.Z,{size:32,className:"text-green-600"})}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-primary-maroon mb-4",children:"Order Placed Successfully!"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 mb-2",children:"Thank you for your order. We've received your payment and will start processing your sweets."}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Order ID: ",(0,a.jsx)("span",{className:"font-mono font-bold",children:r.slice(-8)})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-primary-maroon mb-4",children:"Order Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Customer Information"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Order ID:"}),(0,a.jsx)("span",{className:"font-medium",children:r.slice(-8)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Payment Method:"}),(0,a.jsx)("span",{className:"font-medium",children:h})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Order Date:"}),(0,a.jsx)("span",{className:"font-medium",children:new Date(u.createdAt).toLocaleDateString()})]}),u.guestInfo&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,a.jsx)("span",{className:"font-medium",children:u.guestInfo.email})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Shipping Address"}),(0,a.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,a.jsxs)("p",{className:"text-gray-700",children:[u.shippingAddress.addressLine1,(0,a.jsx)("br",{}),u.shippingAddress.city,", ",u.shippingAddress.state," ",u.shippingAddress.postalCode,(0,a.jsx)("br",{}),"\uD83D\uDCDE ",u.shippingAddress.phone]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Order Items"}),(0,a.jsx)("div",{className:"space-y-3",children:u.orderItems.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[e.image&&(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-16 h-16 object-cover rounded-lg",onError:e=>{e.currentTarget.src="/images/default-sweet.jpg"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Qty: ",e.qty," \xd7 ₹",e.price]})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"font-bold text-primary-maroon",children:["₹",e.price*e.qty]})})]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Price Summary"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Items Total:"}),(0,a.jsxs)("span",{className:"font-medium",children:["₹",u.itemsPrice]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Shipping:"}),(0,a.jsx)("span",{className:"font-medium",children:0===u.shippingPrice?"FREE":"₹".concat(u.shippingPrice)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Tax:"}),(0,a.jsxs)("span",{className:"font-medium",children:["₹",u.taxPrice]})]}),(0,a.jsx)("div",{className:"border-t pt-2",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-lg font-bold text-primary-maroon",children:"Total Paid:"}),(0,a.jsxs)("span",{className:"font-bold text-primary-maroon",children:["₹",u.totalPrice]})]})})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Order Status"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full ".concat("Placed"===u.status?"bg-blue-500":"Processing"===u.status?"bg-yellow-500":"Shipped"===u.status?"bg-purple-500":"bg-green-500")}),(0,a.jsx)("span",{className:"font-medium text-gray-700",children:u.status})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(u.isPaid?"bg-green-500":"bg-gray-400")}),(0,a.jsx)("span",{className:"font-medium text-gray-700",children:u.isPaid?"Paid":"Pending"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(u.isDelivered?"bg-green-500":"bg-gray-400")}),(0,a.jsx)("span",{className:"font-medium text-gray-700",children:u.isDelivered?"Delivered":"Processing"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,a.jsxs)("button",{onClick:()=>{alert("Tracking feature coming soon!")},className:"flex items-center justify-center bg-primary-maroon text-white px-6 py-3 rounded-full font-bold hover:bg-primary-green transition-colors",children:[(0,a.jsx)(d.Z,{size:20,className:"mr-2"}),"Track Order"]}),(0,a.jsxs)("button",{onClick:()=>{e.push("/sweets")},className:"flex items-center justify-center border-2 border-primary-maroon text-primary-maroon px-6 py-3 rounded-full font-bold hover:bg-primary-green transition-colors",children:[(0,a.jsx)(m,{size:20,className:"mr-2"}),"Continue Shopping"]})]}),(0,a.jsxs)("div",{className:"mt-8 p-6 bg-accent-yellow/20 rounded-lg text-center",children:[(0,a.jsxs)("p",{className:"text-sm text-primary-maroon mb-2",children:[(0,a.jsx)(o.Z,{size:16,className:"mr-2"}),"Order confirmation sent to your email"]}),(0,a.jsx)("p",{className:"text-gray-600",children:"You'll receive order updates via email and can track your order status here."})]}),(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsxs)(l.default,{href:"/orders",className:"inline-flex items-center text-primary-green hover:underline",children:[(0,a.jsx)(x.Z,{size:20,className:"mr-2"}),"View All Orders"]})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-bg-cream py-12",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)(i.Z,{size:64,className:"mx-auto text-gray-400 mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Order Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"The order you're looking for could not be found."}),(0,a.jsx)(l.default,{href:"/orders",className:"bg-primary-maroon text-white px-8 py-3 rounded-full font-bold hover:bg-primary-green transition-colors",children:"View My Orders"})]})})})}var u=()=>(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen bg-bg-cream py-12",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-maroon mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})})}),children:(0,a.jsx)(h,{})})},1066:function(e,s,r){"use strict";r.d(s,{Z:function(){return l}});var a=r(2265),t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(e,s)=>{let r=(0,a.forwardRef)((r,l)=>{let{color:i="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:m,children:o,...x}=r;return(0,a.createElement)("svg",{ref:l,...t,width:c,height:c,stroke:i,strokeWidth:m?24*Number(d)/Number(c):d,className:"lucide lucide-".concat(n(e)),...x},[...s.map(e=>{let[s,r]=e;return(0,a.createElement)(s,r)}),...(Array.isArray(o)?o:[o])||[]])});return r.displayName="".concat(e),r}},5137:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});let a=(0,r(1066).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5862:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});let a=(0,r(1066).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4086:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});let a=(0,r(1066).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},7524:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});let a=(0,r(1066).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},5880:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});let a=(0,r(1066).Z)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},6463:function(e,s,r){"use strict";var a=r(1169);r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=956)}),_N_E=e.O()}]);