(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{3321:function(e,t,r){Promise.resolve().then(r.bind(r,2914))},2914:function(e,t,r){"use strict";r.r(t);var s=r(7437),a=r(2265),i=r(9868);t.default=()=>{let[e,t]=(0,a.useState)([]),[r,c]=(0,a.useState)(!1),[n,l]=(0,a.useState)({name:"",price:"",stock:"",category:"Traditional",description:"Delicious sweet"}),d=async()=>{try{let{data:e}=await i.Z.get("/sweets");t(e)}catch(e){console.error("Error fetching sweets:",e)}};(0,a.useEffect)(()=>{d()},[]);let o=async e=>{e.preventDefault();try{await i.Z.post("/sweets",n),d(),c(!1),l({name:"",price:"",stock:"",category:"Traditional",description:"Delicious sweet"})}catch(e){console.error("Error adding sweet:",e),alert("Failed to add sweet")}},p=async e=>{if(confirm("Are you sure?"))try{await i.Z.delete("/sweets/".concat(e)),d()}catch(e){console.error("Error deleting sweet:",e)}};return(0,s.jsx)("div",{className:"min-h-screen bg-bg-beige py-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-serif font-bold text-primary-maroon mb-8",children:"Admin Dashboard"}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Product Management"}),(0,s.jsx)("button",{onClick:()=>c(!r),className:"bg-primary-green text-white px-4 py-2 rounded hover:bg-opacity-90",children:r?"Cancel":"Add New Sweet"})]}),r&&(0,s.jsxs)("form",{onSubmit:o,className:"mb-6 p-4 border rounded bg-gray-50",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Name",className:"p-2 border rounded",value:n.name,onChange:e=>l({...n,name:e.target.value}),required:!0}),(0,s.jsx)("input",{type:"number",placeholder:"Price",className:"p-2 border rounded",value:n.price,onChange:e=>l({...n,price:e.target.value}),required:!0}),(0,s.jsx)("input",{type:"number",placeholder:"Stock",className:"p-2 border rounded",value:n.stock,onChange:e=>l({...n,stock:e.target.value}),required:!0})]}),(0,s.jsx)("button",{type:"submit",className:"bg-primary-maroon text-white px-4 py-2 rounded",children:"Save"})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.name}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:["â‚¹",e.price]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.stock}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsx)("button",{onClick:()=>p(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})})]},e._id))})]})})]})]})})}},9868:function(e,t,r){"use strict";let s=r(8472).Z.create({baseURL:"http://localhost:5001/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let t=localStorage.getItem("userInfo");if(t){let r=JSON.parse(t).token;e.headers.Authorization="Bearer ".concat(r)}return e},e=>Promise.reject(e)),t.Z=s}},function(e){e.O(0,[472,971,23,744],function(){return e(e.s=3321)}),_N_E=e.O()}]);