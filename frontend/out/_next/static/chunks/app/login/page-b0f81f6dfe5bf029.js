(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8033:function(e,r,t){Promise.resolve().then(t.bind(t,5207))},5207:function(e,r,t){"use strict";t.r(r);var a=t(7437),s=t(2265),n=t(3429),o=t(7138);r.default=()=>{let[e,r]=(0,s.useState)(""),[t,l]=(0,s.useState)(""),[i,u]=(0,s.useState)(!1),{login:d,error:c}=(0,n.a)(),m=async r=>{if(r.preventDefault(),!e||!t){alert("Please fill in all fields");return}u(!0);try{await d({email:e,password:t})}catch(e){console.error("Login error:",e)}finally{u(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-bg-beige py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-lg",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-primary-maroon",children:"Sign in to your account"})}),c&&(0,a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:m,children:[(0,a.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{id:"email-address",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-maroon focus:border-primary-maroon focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:e=>r(e.target.value),disabled:i})}),(0,a.jsx)("div",{children:(0,a.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-maroon focus:border-primary-maroon focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:e=>l(e.target.value),disabled:i})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-maroon hover:bg-primary-green focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-maroon disabled:opacity-50",children:i?"Signing in...":"Sign in"})})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account? ",(0,a.jsx)(o.default,{href:"/signup",className:"font-medium text-primary-maroon hover:text-primary-green",children:"Sign up"})]})})]})})}},3429:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return u},a:function(){return i}});var a=t(7437),s=t(2265),n=t(6463),o=t(9868);let l=(0,s.createContext)({user:null,login:async()=>{},register:async()=>{},logout:()=>{},error:null}),i=()=>(0,s.useContext)(l),u=e=>{let{children:r}=e,[t,i]=(0,s.useState)(null),[u,d]=(0,s.useState)(null),c=(0,n.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("userInfo");e&&i(JSON.parse(e))},[]);let m=async e=>{try{d(null);let r=(await o.Z.post("/users/login",e)).data;i(r),localStorage.setItem("userInfo",JSON.stringify(r)),c.push("/")}catch(e){var r,t;d((null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Login failed")}},p=async e=>{try{d(null);let r=(await o.Z.post("/users",e)).data;i(r),localStorage.setItem("userInfo",JSON.stringify(r)),c.push("/")}catch(e){var r,t;d((null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Registration failed")}};return(0,a.jsx)(l.Provider,{value:{user:t,login:m,register:p,logout:()=>{i(null),localStorage.removeItem("userInfo"),c.push("/login")},error:u},children:r})}},6463:function(e,r,t){"use strict";var a=t(1169);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},9868:function(e,r,t){"use strict";let a=t(8472).Z.create({baseURL:"http://localhost:5001/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let r=localStorage.getItem("userInfo");if(r){let t=JSON.parse(r).token;e.headers.Authorization="Bearer ".concat(t)}return e},e=>Promise.reject(e)),r.Z=a}},function(e){e.O(0,[138,472,971,23,744],function(){return e(e.s=8033)}),_N_E=e.O()}]);